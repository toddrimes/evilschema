<!DOCTYPE html>
<html>
<head>
    <title>GoJS Tree Mapper</title>
    <meta name="description" content="A tree mapper diagram to show and edit the relationships between items in two different trees." />
    <!-- Copyright 1998-2016 by Northwoods Software Corporation. -->
    <meta charset="UTF-8">
    <script src="go-debug.js"></script>
    <script id="code">

        function arrayConvert(data){
            var chartData = [];

            if (typeof data === "object") {
                for (var i in data) {
                    var item = data[i];
                    var outer = [];
                    // skip over items in the outer object that aren't nested objects themselves
                    if (typeof item === "object") {
                        for (var j in item) {
                            var temp = [];
                            temp.push(j);
                            temp.push(arrayConvert(item[j]));
                            outer.push(temp);
                        }
                    } else {
                        outer.push(data);
                    }
                    if (outer.length) {
                        chartData.push(outer);
                    }
                }
            } else {
                console.log("non-object is " + data);
            }
            
            return chartData;
        }

        var schemaObject = {
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "",
  "type": "object",
  "properties": {
    "uuid": {
      "type": "string",
      "minLength": 1
    },
    "itemType": {
      "type": "string",
      "minLength": 1
    },
    "title": {
      "type": "string",
      "minLength": 1
    },
    "subhead": {
      "type": "string",
      "minLength": 1
    },
    "shortDescription": {
      "type": "string",
      "minLength": 1
    },
    "mediumDescription": {
      "type": "string",
      "minLength": 1
    },
    "longDescription": {
      "type": "string",
      "minLength": 1
    },
    "published": {
      "type": "boolean"
    },
    "links": {
      "type": "array",
      "uniqueItems": true,
      "minItems": 1,
      "items": {
        "required": [
          "text",
          "href"
        ],
        "properties": {
          "text": {
            "type": "string",
            "minLength": 1
          },
          "href": {
            "type": "string",
            "minLength": 1
          }
        }
      }
    },
    "productionNumber": {
      "type": "number"
    },
    "seasonNumber": {
      "type": "number"
    },
    "seasonStartDate": {
      "type": "number"
    },
    "seasonEndDate": {
      "type": "number"
    },
    "program": {
      "type": "object",
      "properties": {
        "programUuid": {
          "type": "string",
          "minLength": 1
        },
        "programItemType": {
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "programUuid",
        "programItemType"
      ]
    },
    "promoKicker": {
      "type": "string",
      "minLength": 1
    },
    "promoTitle": {
      "type": "string",
      "minLength": 1
    },
    "promoDescription": {
      "type": "string",
      "minLength": 1
    },
    "promoMedia": {
      "type": "object",
      "properties": {
        "uuid": {
          "type": "string",
          "minLength": 1
        },
        "itemType": {
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "uuid",
        "itemType"
      ]
    },
    "_embedded": {
      "type": "object",
      "properties": {
        "media": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "required": [
              "usage"
            ],
            "properties": {
              "usage": {
                "type": "string",
                "minLength": 1
              },
              "_embedded": {
                "type": "object",
                "properties": {
                  "media": {
                    "type": "object",
                    "properties": {
                      "uuid": {
                        "type": "string",
                        "minLength": 1
                      },
                      "title": {
                        "type": "string",
                        "minLength": 1
                      },
                      "itemType": {
                        "type": "string",
                        "minLength": 1
                      },
                      "href": {
                        "type": "string",
                        "minLength": 1
                      },
                      "imageStyle": {
                        "type": "array",
                        "uniqueItems": true,
                        "minItems": 1,
                        "items": {
                          "required": [
                            "type",
                            "href"
                          ],
                          "properties": {
                            "type": {
                              "type": "string",
                              "minLength": 1
                            },
                            "href": {
                              "type": "string",
                              "minLength": 1
                            }
                          }
                        }
                      },
                      "alt": {
                        "type": "string",
                        "minLength": 1
                      },
                      "caption": {
                        "type": "string",
                        "minLength": 1
                      },
                      "copyright": {
                        "type": "string",
                        "minLength": 1
                      },
                      "credit": {
                        "type": "string",
                        "minLength": 1
                      },
                      "description": {
                        "type": "string",
                        "minLength": 1
                      },
                      "highRes": {
                        "type": "boolean"
                      },
                      "source": {
                        "type": "string",
                        "minLength": 1
                      },
                      "published": {
                        "type": "boolean"
                      },
                      "_embedded": {
                        "type": "object",
                        "properties": {
                          "categories": {
                            "type": "array",
                            "uniqueItems": true,
                            "minItems": 1,
                            "items": {
                              "required": [
                                "uuid",
                                "itemType",
                                "title"
                              ],
                              "properties": {
                                "uuid": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "itemType": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "title": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "_links": {
                                  "type": "object",
                                  "properties": {
                                    "self": {
                                      "type": "object",
                                      "properties": {
                                        "href": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "href"
                                      ]
                                    },
                                    "parentUuids": {
                                      "type": "array",
                                      "uniqueItems": true,
                                      "minItems": 1,
                                      "items": {
                                        "required": [
                                          "parentUuid",
                                          "title",
                                          "href"
                                        ],
                                        "properties": {
                                          "parentUuid": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "title": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "href": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "required": [
                                    "self",
                                    "parentUuids"
                                  ]
                                }
                              }
                            }
                          },
                          "tags": {
                            "type": "array",
                            "uniqueItems": true,
                            "minItems": 1,
                            "items": {
                              "required": [
                                "uuid",
                                "itemType",
                                "title"
                              ],
                              "properties": {
                                "uuid": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "itemType": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "title": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "_links": {
                                  "type": "object",
                                  "properties": {
                                    "self": {
                                      "type": "object",
                                      "properties": {
                                        "href": {
                                          "type": "string",
                                          "minLength": 1
                                        }
                                      },
                                      "required": [
                                        "href"
                                      ]
                                    },
                                    "parentUuids": {
                                      "type": "array",
                                      "uniqueItems": true,
                                      "minItems": 1,
                                      "items": {
                                        "required": [
                                          "parentUuid",
                                          "title",
                                          "href"
                                        ],
                                        "properties": {
                                          "parentUuid": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "title": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "href": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "required": [
                                    "self",
                                    "parentUuids"
                                  ]
                                }
                              }
                            }
                          }
                        },
                        "required": [
                          "categories",
                          "tags"
                        ]
                      },
                      "_links": {
                        "type": "object",
                        "properties": {
                          "self": {
                            "type": "object",
                            "properties": {
                              "href": {
                                "type": "string",
                                "minLength": 1
                              }
                            },
                            "required": [
                              "href"
                            ]
                          }
                        },
                        "required": [
                          "self"
                        ]
                      }
                    },
                    "required": [
                      "uuid",
                      "title",
                      "itemType",
                      "href",
                      "imageStyle",
                      "alt",
                      "caption",
                      "copyright",
                      "credit",
                      "description",
                      "highRes",
                      "source",
                      "published",
                      "_embedded",
                      "_links"
                    ]
                  }
                },
                "required": [
                  "media"
                ]
              }
            }
          }
        },
        "categories": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "required": [
              "uuid",
              "itemType",
              "title",
              "vocabularyType",
              "description",
              "weight"
            ],
            "properties": {
              "uuid": {
                "type": "string",
                "minLength": 1
              },
              "itemType": {
                "type": "string",
                "minLength": 1
              },
              "title": {
                "type": "string",
                "minLength": 1
              },
              "vocabularyType": {
                "type": "string",
                "minLength": 1
              },
              "description": {
                "type": "string",
                "minLength": 1
              },
              "weight": {
                "type": "number"
              },
              "_links": {
                "type": "object",
                "properties": {
                  "self": {
                    "type": "object",
                    "properties": {
                      "href": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "href"
                    ]
                  },
                  "parentUuids": {
                    "type": "array",
                    "uniqueItems": true,
                    "minItems": 1,
                    "items": {
                      "required": [
                        "parentUuid",
                        "title",
                        "href"
                      ],
                      "properties": {
                        "parentUuid": {
                          "type": "string",
                          "minLength": 1
                        },
                        "title": {
                          "type": "string",
                          "minLength": 1
                        },
                        "href": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    }
                  }
                },
                "required": [
                  "self",
                  "parentUuids"
                ]
              }
            }
          }
        },
        "tags": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "required": [
              "uuid",
              "itemType",
              "title",
              "vocabularyType",
              "description",
              "weight"
            ],
            "properties": {
              "uuid": {
                "type": "string",
                "minLength": 1
              },
              "itemType": {
                "type": "string",
                "minLength": 1
              },
              "title": {
                "type": "string",
                "minLength": 1
              },
              "vocabularyType": {
                "type": "string",
                "minLength": 1
              },
              "description": {
                "type": "string",
                "minLength": 1
              },
              "weight": {
                "type": "number"
              },
              "_links": {
                "type": "object",
                "properties": {
                  "self": {
                    "type": "object",
                    "properties": {
                      "href": {
                        "type": "string",
                        "minLength": 1
                      }
                    },
                    "required": [
                      "href"
                    ]
                  },
                  "parentUuids": {
                    "type": "array",
                    "uniqueItems": true,
                    "minItems": 1,
                    "items": {
                      "required": [
                        "parentUuid",
                        "title",
                        "href"
                      ],
                      "properties": {
                        "parentUuid": {
                          "type": "string",
                          "minLength": 1
                        },
                        "title": {
                          "type": "string",
                          "minLength": 1
                        },
                        "href": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    }
                  }
                },
                "required": [
                  "self",
                  "parentUuids"
                ]
              }
            }
          }
        },
        "castCredit": {
          "type": "object",
          "properties": {
            "uuid": {
              "type": "string",
              "minLength": 1
            },
            "itemType": {
              "type": "string",
              "minLength": 1
            },
            "credit": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "required": [
                  "title",
                  "name"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 1
                  },
                  "name": {
                    "type": "string",
                    "minLength": 1
                  }
                }
              }
            },
            "_embedded": {
              "type": "object",
              "properties": {
                "cast": {
                  "type": "array",
                  "uniqueItems": true,
                  "minItems": 1,
                  "items": {
                    "required": [],
                    "properties": {
                      "person": {
                        "type": "object",
                        "properties": {
                          "uuid": {
                            "type": "string",
                            "minLength": 1
                          },
                          "itemType": {
                            "type": "string",
                            "minLength": 1
                          },
                          "prefix": {
                            "type": "string",
                            "minLength": 1
                          },
                          "firstName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string"
                          },
                          "lastName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "suffix": {
                            "type": "string",
                            "minLength": 1
                          },
                          "bio": {
                            "type": "string",
                            "minLength": 1
                          },
                          "published": {
                            "type": "boolean"
                          },
                          "_embedded": {
                            "type": "object",
                            "properties": {
                              "images": {
                                "type": "array",
                                "uniqueItems": true,
                                "minItems": 1,
                                "items": {
                                  "required": [
                                    "uuid",
                                    "title",
                                    "itemType",
                                    "href",
                                    "alt",
                                    "caption",
                                    "copyright",
                                    "credit",
                                    "description",
                                    "highRes",
                                    "source",
                                    "published"
                                  ],
                                  "properties": {
                                    "uuid": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "title": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "itemType": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "href": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "imageStyle": {
                                      "type": "array",
                                      "uniqueItems": true,
                                      "minItems": 1,
                                      "items": {
                                        "required": [
                                          "type",
                                          "href"
                                        ],
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "href": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      }
                                    },
                                    "alt": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "caption": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "copyright": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "credit": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "description": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "highRes": {
                                      "type": "boolean"
                                    },
                                    "source": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "published": {
                                      "type": "boolean"
                                    },
                                    "_embedded": {
                                      "type": "object",
                                      "properties": {
                                        "categories": {
                                          "type": "array",
                                          "uniqueItems": true,
                                          "minItems": 1,
                                          "items": {
                                            "required": [
                                              "uuid",
                                              "itemType",
                                              "title"
                                            ],
                                            "properties": {
                                              "uuid": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "itemType": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "title": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "_links": {
                                                "type": "object",
                                                "properties": {
                                                  "self": {
                                                    "type": "object",
                                                    "properties": {
                                                      "href": {
                                                        "type": "string",
                                                        "minLength": 1
                                                      }
                                                    },
                                                    "required": [
                                                      "href"
                                                    ]
                                                  },
                                                  "parentUuids": {
                                                    "type": "array",
                                                    "uniqueItems": true,
                                                    "minItems": 1,
                                                    "items": {
                                                      "required": [
                                                        "parentUuid",
                                                        "title",
                                                        "href"
                                                      ],
                                                      "properties": {
                                                        "parentUuid": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "title": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "href": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        }
                                                      }
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "self",
                                                  "parentUuids"
                                                ]
                                              }
                                            }
                                          }
                                        },
                                        "tags": {
                                          "type": "array",
                                          "uniqueItems": true,
                                          "minItems": 1,
                                          "items": {
                                            "required": [
                                              "uuid",
                                              "itemType",
                                              "title"
                                            ],
                                            "properties": {
                                              "uuid": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "itemType": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "title": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "_links": {
                                                "type": "object",
                                                "properties": {
                                                  "self": {
                                                    "type": "object",
                                                    "properties": {
                                                      "href": {
                                                        "type": "string",
                                                        "minLength": 1
                                                      }
                                                    },
                                                    "required": [
                                                      "href"
                                                    ]
                                                  },
                                                  "parentUuids": {
                                                    "type": "array",
                                                    "uniqueItems": true,
                                                    "minItems": 1,
                                                    "items": {
                                                      "required": [
                                                        "parentUuid",
                                                        "title",
                                                        "href"
                                                      ],
                                                      "properties": {
                                                        "parentUuid": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "title": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "href": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        }
                                                      }
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "self",
                                                  "parentUuids"
                                                ]
                                              }
                                            }
                                          }
                                        }
                                      },
                                      "required": [
                                        "categories",
                                        "tags"
                                      ]
                                    },
                                    "_links": {
                                      "type": "object",
                                      "properties": {
                                        "self": {
                                          "type": "object",
                                          "properties": {
                                            "href": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "href"
                                          ]
                                        }
                                      },
                                      "required": [
                                        "self"
                                      ]
                                    }
                                  }
                                }
                              }
                            },
                            "required": [
                              "images"
                            ]
                          },
                          "links": {
                            "type": "array",
                            "uniqueItems": true,
                            "minItems": 1,
                            "items": {
                              "required": [
                                "text",
                                "href"
                              ],
                              "properties": {
                                "text": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "href": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            }
                          },
                          "_links": {
                            "type": "object",
                            "properties": {
                              "self": {
                                "type": "object",
                                "properties": {
                                  "href": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "href"
                                ]
                              }
                            },
                            "required": [
                              "self"
                            ]
                          }
                        },
                        "required": [
                          "uuid",
                          "itemType",
                          "prefix",
                          "firstName",
                          "middleName",
                          "lastName",
                          "suffix",
                          "bio",
                          "published",
                          "_embedded",
                          "links",
                          "_links"
                        ]
                      },
                      "role": {
                        "type": "object",
                        "properties": {
                          "uuid": {
                            "type": "string",
                            "minLength": 1
                          },
                          "itemType": {
                            "type": "string",
                            "minLength": 1
                          },
                          "prefix": {
                            "type": "string",
                            "minLength": 1
                          },
                          "firstName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string"
                          },
                          "lastName": {
                            "type": "string",
                            "minLength": 1
                          },
                          "suffix": {
                            "type": "string",
                            "minLength": 1
                          },
                          "bio": {
                            "type": "string",
                            "minLength": 1
                          },
                          "published": {
                            "type": "boolean"
                          },
                          "_embedded": {
                            "type": "object",
                            "properties": {
                              "images": {
                                "type": "array",
                                "uniqueItems": true,
                                "minItems": 1,
                                "items": {
                                  "required": [
                                    "uuid",
                                    "title",
                                    "itemType",
                                    "href",
                                    "alt",
                                    "caption",
                                    "copyright",
                                    "credit",
                                    "description",
                                    "highRes",
                                    "source",
                                    "published"
                                  ],
                                  "properties": {
                                    "uuid": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "title": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "itemType": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "href": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "imageStyle": {
                                      "type": "array",
                                      "uniqueItems": true,
                                      "minItems": 1,
                                      "items": {
                                        "required": [
                                          "type",
                                          "href"
                                        ],
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "minLength": 1
                                          },
                                          "href": {
                                            "type": "string",
                                            "minLength": 1
                                          }
                                        }
                                      }
                                    },
                                    "alt": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "caption": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "copyright": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "credit": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "description": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "highRes": {
                                      "type": "boolean"
                                    },
                                    "source": {
                                      "type": "string",
                                      "minLength": 1
                                    },
                                    "published": {
                                      "type": "boolean"
                                    },
                                    "_embedded": {
                                      "type": "object",
                                      "properties": {
                                        "categories": {
                                          "type": "array",
                                          "uniqueItems": true,
                                          "minItems": 1,
                                          "items": {
                                            "required": [
                                              "uuid",
                                              "itemType",
                                              "title"
                                            ],
                                            "properties": {
                                              "uuid": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "itemType": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "title": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "_links": {
                                                "type": "object",
                                                "properties": {
                                                  "self": {
                                                    "type": "object",
                                                    "properties": {
                                                      "href": {
                                                        "type": "string",
                                                        "minLength": 1
                                                      }
                                                    },
                                                    "required": [
                                                      "href"
                                                    ]
                                                  },
                                                  "parentUuids": {
                                                    "type": "array",
                                                    "uniqueItems": true,
                                                    "minItems": 1,
                                                    "items": {
                                                      "required": [
                                                        "parentUuid",
                                                        "title",
                                                        "href"
                                                      ],
                                                      "properties": {
                                                        "parentUuid": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "title": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "href": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        }
                                                      }
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "self",
                                                  "parentUuids"
                                                ]
                                              }
                                            }
                                          }
                                        },
                                        "tags": {
                                          "type": "array",
                                          "uniqueItems": true,
                                          "minItems": 1,
                                          "items": {
                                            "required": [
                                              "uuid",
                                              "itemType",
                                              "title"
                                            ],
                                            "properties": {
                                              "uuid": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "itemType": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "title": {
                                                "type": "string",
                                                "minLength": 1
                                              },
                                              "_links": {
                                                "type": "object",
                                                "properties": {
                                                  "self": {
                                                    "type": "object",
                                                    "properties": {
                                                      "href": {
                                                        "type": "string",
                                                        "minLength": 1
                                                      }
                                                    },
                                                    "required": [
                                                      "href"
                                                    ]
                                                  },
                                                  "parentUuids": {
                                                    "type": "array",
                                                    "uniqueItems": true,
                                                    "minItems": 1,
                                                    "items": {
                                                      "required": [
                                                        "parentUuid",
                                                        "title",
                                                        "href"
                                                      ],
                                                      "properties": {
                                                        "parentUuid": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "title": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        },
                                                        "href": {
                                                          "type": "string",
                                                          "minLength": 1
                                                        }
                                                      }
                                                    }
                                                  }
                                                },
                                                "required": [
                                                  "self",
                                                  "parentUuids"
                                                ]
                                              }
                                            }
                                          }
                                        }
                                      },
                                      "required": [
                                        "categories",
                                        "tags"
                                      ]
                                    },
                                    "_links": {
                                      "type": "object",
                                      "properties": {
                                        "self": {
                                          "type": "object",
                                          "properties": {
                                            "href": {
                                              "type": "string",
                                              "minLength": 1
                                            }
                                          },
                                          "required": [
                                            "href"
                                          ]
                                        }
                                      },
                                      "required": [
                                        "self"
                                      ]
                                    }
                                  }
                                }
                              }
                            },
                            "required": [
                              "images"
                            ]
                          },
                          "links": {
                            "type": "array",
                            "uniqueItems": true,
                            "minItems": 1,
                            "items": {
                              "required": [
                                "text",
                                "href"
                              ],
                              "properties": {
                                "text": {
                                  "type": "string",
                                  "minLength": 1
                                },
                                "href": {
                                  "type": "string",
                                  "minLength": 1
                                }
                              }
                            }
                          },
                          "_links": {
                            "type": "object",
                            "properties": {
                              "self": {
                                "type": "object",
                                "properties": {
                                  "href": {
                                    "type": "string",
                                    "minLength": 1
                                  }
                                },
                                "required": [
                                  "href"
                                ]
                              }
                            },
                            "required": [
                              "self"
                            ]
                          }
                        },
                        "required": [
                          "uuid",
                          "itemType",
                          "prefix",
                          "firstName",
                          "middleName",
                          "lastName",
                          "suffix",
                          "bio",
                          "published",
                          "_embedded",
                          "links",
                          "_links"
                        ]
                      }
                    }
                  }
                }
              },
              "required": [
                "cast"
              ]
            },
            "_links": {
              "type": "object",
              "properties": {
                "self": {
                  "type": "object",
                  "properties": {
                    "href": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "href"
                  ]
                }
              },
              "required": [
                "self"
              ]
            }
          },
          "required": [
            "uuid",
            "itemType",
            "credit",
            "_embedded",
            "_links"
          ]
        }
      },
      "required": [
        "media",
        "categories",
        "tags",
        "castCredit"
      ]
    },
    "_links": {
      "type": "object",
      "properties": {
        "self": {
          "type": "object",
          "properties": {
            "href": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "href"
          ]
        }
      },
      "required": [
        "self"
      ]
    }
  },
  "required": [
    "uuid",
    "itemType",
    "title",
    "subhead",
    "shortDescription",
    "mediumDescription",
    "longDescription",
    "published",
    "links",
    "productionNumber",
    "seasonNumber",
    "seasonStartDate",
    "seasonEndDate",
    "program",
    "promoKicker",
    "promoTitle",
    "promoDescription",
    "promoMedia",
    "_embedded",
    "_links"
  ]
};

        function TreeNode() {
            go.Node.call(this);
        }
        go.Diagram.inherit(TreeNode, go.Node);

        /** @override */
        TreeNode.prototype.findVisibleNode = function() {
            // redirect links to lowest visible "ancestor" in the tree
            var n = this;
            while (n !== null && !n.isVisible()) {
                n = n.findTreeParentNode();
            }
            return n;
        };


        function init() {
            var $ = go.GraphObject.make;  // for conciseness in defining templates

            myDiagram =
                    $(go.Diagram, "myDiagramDiv",
                            {
                                "commandHandler.copiesTree": true,
                                "commandHandler.deletesTree": true,
                                // newly drawn links always map a node in one tree to a node in another tree
                                "linkingTool.archetypeLinkData": { category: "Mapping" },
                                "linkingTool.linkValidation": checkLink,
                                "relinkingTool.linkValidation": checkLink,
                                initialContentAlignment: go.Spot.Center,
                                "undoManager.isEnabled": true,
                                "ModelChanged": function(e) {
                                    if (e.isTransactionFinished) {  // show the model data in the page's TextArea
                                        document.getElementById("mySavedModel").textContent = e.model.toJson();
                                    }
                                }
                            });

            function checkLink(fn, fp, tn, tp, link) {
                // Do not allow links between nodes within the same tree (i.e. within the same group).
                // Nor do we allow links from the right side to the left side.
                return fn.containingGroup !== tn.containingGroup && fn.position.x < tn.position.x;
            }

            // Each node in a tree is defined using the default nodeTemplate.
            myDiagram.nodeTemplate =
                    $(TreeNode,
                            { movable: false },  // user cannot move an individual node
                            // no Adornment: instead change panel background color by binding to Node.isSelected
                            { selectionAdorned: false },
                            { fromLinkable: true, toLinkable: true },  // user can draw link to and from such tree nodes
                            $("TreeExpanderButton",  // support expanding/collapsing subtrees
                                    { width: 14, height: 14,
                                        "ButtonIcon.stroke": "white",
                                        "ButtonIcon.strokeWidth": 2,
                                        "ButtonBorder.fill": "goldenrod",
                                        "ButtonBorder.stroke": null,
                                        "ButtonBorder.figure": "Rectangle"
                                    }),
                            $(go.Panel, "Horizontal",
                                    { position: new go.Point(16, 0) },
                                    new go.Binding("background", "isSelected", function(s) { return (s ? "lightblue" : "white"); }).ofObject(),
                                    //// optional icon for each tree node
                                    $(go.Picture,
                                      { width: 14, height: 14,
                                        margin: new go.Margin(0, 4, 0, 0),
                                        imageStretch: go.GraphObject.Uniform,
                                        source: "images/defaultIcon.png" },
                                      new go.Binding("source", "src")),
                                    $(go.TextBlock,
                                            new go.Binding("text", "key", function(s) { return s; }))
                            )  // end Horizontal Panel
                    );  // end Node

            // These are the links connecting tree nodes within each group.

            myDiagram.linkTemplate = $(go.Link);  // without lines

            myDiagram.linkTemplate =  // with lines
                    $(go.Link,
                            { selectable: false,
                                routing: go.Link.Orthogonal,
                                fromEndSegmentLength: 4,
                                toEndSegmentLength: 4,
                                fromSpot: new go.Spot(0.001, 1, 7, 0),
                                toSpot: go.Spot.Left },
                            $(go.Shape,
                                    { stroke: "lightgray" }));

            // These are the blue links connecting a tree node on the left side with one on the right side.
            myDiagram.linkTemplateMap.add("Mapping",
                    $(go.Link,
                            { isTreeLink: false, isLayoutPositioned: false, layerName: "Foreground" },
                            { fromSpot: go.Spot.Right, toSpot: go.Spot.Left },
                            { relinkableFrom: true, relinkableTo: true },
                            $(go.Shape, { stroke: "blue", strokeWidth: 2 })
                    ));

            myDiagram.groupTemplate =
                    $(go.Group, "Auto",
                            new go.Binding("position", "xy", go.Point.parse).makeTwoWay(go.Point.stringify),
                            {
                                layout:
                                        $(go.TreeLayout,
                                                {
                                                    alignment: go.TreeLayout.AlignmentStart,
                                                    angle: 0,
                                                    compaction: go.TreeLayout.CompactionNone,
                                                    layerSpacing: 16,
                                                    layerSpacingParentOverlap: 1,
                                                    nodeIndent: 2,
                                                    nodeIndentPastParent: 0.88,
                                                    nodeSpacing: 0,
                                                    setsPortSpot: false,
                                                    setsChildPortSpot: false
                                                })
                            },
                            $(go.Shape, { fill: "white", stroke: "lightgray" }),
                            $(go.Panel, "Vertical",
                                    { defaultAlignment: go.Spot.Left },
                                    $(go.TextBlock,
                                            { font: "bold 14pt sans-serif", margin: new go.Margin(5, 5, 0, 5) },
                                            new go.Binding("text")),
                                    $(go.Placeholder, { padding: 5 })
                            )
                    );

            var nodeDataArray = [
                { isGroup: true, key: -1, text: "Serial", xy: "0 0" },
                { isGroup: true, key: -2, text: "Concerto", xy: "300 0" },
                { isGroup: true, key: -3, text: "NBCD", xy: "600 0" }
            ];
            var linkDataArray = [];

            // initialize tree on left side
            var i = 0;
            var schemaArray = arrayConvert(schemaObject);
            // console.log(schemaArray);

            var saLen = schemaArray.length;
            var tempArray = null;
            for (var i=0; i < saLen; i++) {
                if(schemaArray[i].length > 1) {
                    tempArray = schemaArray[i];
                    break;
                }
            }
            schemaArray = tempArray;
            saLen = schemaArray.length;
            var itemNames = [];
            for (var i=0; i < saLen; i++) {
                info = schemaArray[i];
                var childdata = { key: info[0], group: -1 };
                var parent = info[0];
                if (typeof info[1][0][0] != "undefined" && typeof info[1][0][0] == "object") {
                    for (var j in info[1][0][0].properties){
                        //console.log(j);
                        nodeDataArray.push({ key: j, group: -1 });
                        linkDataArray.push({from:parent, to: j});
                    }
                }
                for (var j=0;j<info[1].length;j++) {
                    if (typeof info[1][j][0] != "undefined" && typeof info[1][j][0].type!="undefined" ) {
                        childdata.type = info[1][j][0].type;
                    }
                    if (typeof info[1][j][0] != "undefined" && typeof info[1][j][0].default!="undefined" ) {
                        childdata.default = info[1][j][0].default;
                    }
                    if (typeof info[1][j][0] != "undefined" && typeof info[1][j][0].minLength!="undefined" ) {
                        childdata.minLength = info[1][j][0].minLength;
                    }
                }
                nodeDataArray.push(childdata);
                // console.log(info);
            }
            console.log(nodeDataArray);

            myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);
        }

    </script>
</head>
<body onload="init()">
<div id="sample">
    <p>
        Draw new links by dragging from any field (i.e. any tree node).
        Reconnect a selected link by dragging its diamond-shaped handle.
    </p>
    <div id="newTripletDiv" style="border: 1px solid blue; width: 100%; height: 60px; float:left">
        <form action="http://localhost:1337/triplet/create">
            Name: <input type="text" name="name" size="30" maxlength="60">
            Serial: <input type="text" name="serial" size="60" maxlength="256">
            Concerto: <input type="text" name="concerto" size="60" maxlength="256">
            NBCD: <input type="text" name="nbcd" size="60" maxlength="256">
			<input type="submit" value="Save Triplet">
        </form>
    </div>
    <div id="myDiagramDiv" style="border: 1px solid blue; width: 1080px; height: 640px; float:left"></div>
    <div id="mySchemaTriplets" style="border: 1px solid blue; width: 640px; height: 640px; float:left"></div>
    <textarea id="mySavedModel" style="width:100%;height:300px"></textarea>
</div>
</body>
</html>